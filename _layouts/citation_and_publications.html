---
layout: default
title: Citation and Publications
permalink: /citation-and-publications/
---

<div class="container">
  <h2 class="mt-5">Google Scholar Citation Plot</h2>
  <canvas id="citationPlot" style="max-height: 400px;"></canvas>
</div>

<!-- Your existing publications content goes here -->
<div class="container mt-5">
  <h2>Publications</h2>
  <!-- Add your existing publications code here -->
</div>

<!-- Include Chart.js library -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const profileId = "{{ site.scholar }}";
  const apiUrl = `https://scholar.google.com/citations?user=${profileId}&view_op=list_works&sortby=pubdate&cstart=0&pagesize=100`;

  fetch(apiUrl)
    .then(response => response.text())
    .then(data => {
      // Process and plot the data using Chart.js
      const parser = new DOMParser();
      const doc = parser.parseFromString(data, "text/html");
      const items = doc.querySelectorAll('.gsc_a_tr');

      const years = [];
      const citations = [];

      items.forEach(item => {
        const year = item.querySelector('.gsc_a_y span').textContent;
        const citation = item.querySelector('.gsc_a_c a').textContent;

        years.push(year);
        citations.push(parseInt(citation, 10));
      });

      // Create a Chart.js plot
      const ctx = document.getElementById('citationPlot').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: years,
          datasets: [{
            label: 'Citations',
            data: citations,
            borderColor: 'rgb(75, 192, 192)',
            borderWidth: 2,
            fill: false
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Year'
              }
            }],
            y: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Citations'
              }
            }]
          }
        }
      });
    })
    .catch(error => {
      console.error('Error fetching data:', error);
    });
});
</script>
